Date :17/12/2025
78. Graph - Selecting Diverse Astronauts for a Lunar Mission


import java.io.*;
import java.util.*;

public class Solution 
{
    static int dfs(int i,ArrayList<Integer>[]adj, boolean[]visited)
    {
        int count=1;
        visited[i]=true;  //0=true
        for(int nbr:adj[i])  //adj[0]--1,4
        {
            if(!visited[nbr])
            {
                count+=dfs(nbr,adj,visited);
            }
        }
        return count;
    }
    public static void main(String[] args) 
    {
        Scanner sc=new Scanner(System.in);
        int n=sc.nextInt();  // n = 5 astronauts (0,1,2,3,4)
        int m=sc.nextInt();   // m = 3 pairs of same-country astronauts
        ArrayList<Integer>[]adj=new ArrayList[n+1];
        for(int i=0;i<n;i++)
        {
            adj[i]=new ArrayList<>();
        }
        for(int i=0;i<m;i++)          // Input pairs: (0,1), (2,3), (0,4)
        {
            int u=sc.nextInt();  //0   2    0
            int v=sc.nextInt();  //1   3    4
            adj[u].add(v);  //0-1   2-3  0-4
            adj[v].add(u);  //1-0   3-2   4-0
        }
        boolean[]visited=new boolean[n];  //5  [false, false, false, false, false]
        int[]country=new int[n];   //5
        int con_count=0;
        for(int i=0;i<n;i++)  //0
        {
            if(!visited[i]) //0
            {
                int size=dfs(i,adj,visited);  //
                country[con_count++]=size;
                
            }
        }
        int total=0;
        for(int i=0;i<con_count;i++)
        {
            for(int j=i+1;j<con_count;j++)
            {
                total+=country[i]*country[j];
            }
        }
        System.out.println(total);
        
    }
}
