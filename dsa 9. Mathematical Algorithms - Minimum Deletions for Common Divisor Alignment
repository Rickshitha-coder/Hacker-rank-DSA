Date :07/02/2026
9. Mathematical Algorithms - Minimum Deletions for Common Divisor Alignment

import java.io.*;
import java.util.*;

public class Solution 
{
    public static int  find_gcd(int a,int b)
    {
        if(b==0)
        {
            return a;
        }
        return find_gcd(b,a%b);
    }
    public static void main(String[] args) 
    {
        Scanner sc=new Scanner(System.in);
        int n=sc.nextInt();
        int m=sc.nextInt();
        ArrayList<Integer>arr=new ArrayList<>();
        ArrayList<Integer>divide=new ArrayList<>();

        for(int i=0;i<n;i++)
        {
            int value=sc.nextInt();
            arr.add(value);
        }
        for(int i=0;i<m;i++)
        {
            int value1=sc.nextInt();
            divide.add(value1);
        }
        int gcd=divide.get(0);
        for(int i=1;i<divide.size();i++)
        {
            gcd=find_gcd(gcd,divide.get(i));
        }
        Collections.sort(arr);
        int deletions=0;//0
        boolean found=false;
        for(int i=0;i<arr.size();i++)//0
        {
            int x=arr.get(i);
            if(gcd%x==0)
            {
                deletions=i;
                found=true;
                break;
            }
        }
        if(found)
        {
            System.out.println(deletions);
        }
        else
        {
            System.out.println(-1);
        }
        
      
    }
}
